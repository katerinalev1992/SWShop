-- Table: public.customers

-- DROP TABLE public.customers;

CREATE TABLE public.customers
(
  id bigint NOT NULL,
  company_name character varying,
  first_name character varying,
  last_name character varying,
  address character varying,
  city character varying,
  country character varying,
  postal_code character varying,
  phone character varying,
  email character varying,
  CONSTRAINT pk_customers PRIMARY KEY (id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.customers
  OWNER TO postgres;
-- Table: public.employees

-- DROP TABLE public.employees;

CREATE TABLE public.employees
(
  id bigint NOT NULL,
  first_name character varying,
  last_name character varying,
  email character varying,
  phone character varying,
  address character varying,
  "position" character varying,
  CONSTRAINT pk_employees PRIMARY KEY (id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.employees
  OWNER TO postgres;
-- Table: public.order_detail

-- DROP TABLE public.order_detail;

CREATE TABLE public.order_detail
(
  id bigint NOT NULL,
  order_id bigint,
  product_id bigint,
  quantity bigint,
  unit_price double precision,
  CONSTRAINT "pk_orderDetail" PRIMARY KEY (id),
  CONSTRAINT fk3 FOREIGN KEY (order_id)
      REFERENCES public.orders (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk4 FOREIGN KEY (product_id)
      REFERENCES public.products (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.order_detail
  OWNER TO postgres;

-- Index: public.fki_fk3

-- DROP INDEX public.fki_fk3;

CREATE INDEX fki_fk3
  ON public.order_detail
  USING btree
  (order_id);

-- Index: public.fki_fk4

-- DROP INDEX public.fki_fk4;

CREATE INDEX fki_fk4
  ON public.order_detail
  USING btree
  (product_id);

-- Table: public.orders

-- DROP TABLE public.orders;

CREATE TABLE public.orders
(
  id bigint NOT NULL,
  customer_id bigint,
  order_date date,
  order_number bigint,
  state character varying,
  payment_method_id bigint,
  shipping_method_id bigint,
  CONSTRAINT pk_orders PRIMARY KEY (id),
  CONSTRAINT fk1 FOREIGN KEY (customer_id)
      REFERENCES public.customers (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk2 FOREIGN KEY (shipping_method_id)
      REFERENCES public.shipping_method (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk7 FOREIGN KEY (payment_method_id)
      REFERENCES public.payment_method (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.orders
  OWNER TO postgres;

-- Index: public.fki_fk1

-- DROP INDEX public.fki_fk1;

CREATE INDEX fki_fk1
  ON public.orders
  USING btree
  (customer_id);

-- Index: public.fki_fk2

-- DROP INDEX public.fki_fk2;

CREATE INDEX fki_fk2
  ON public.orders
  USING btree
  (shipping_method_id);

-- Index: public.fki_fk7

-- DROP INDEX public.fki_fk7;

CREATE INDEX fki_fk7
  ON public.orders
  USING btree
  (payment_method_id);
-- Table: public.payment_method

-- DROP TABLE public.payment_method;

CREATE TABLE public.payment_method
(
  id bigint NOT NULL,
  method character varying,
  CONSTRAINT pk_method PRIMARY KEY (id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.payment_method
  OWNER TO postgres;
-- Table: public.payments

-- DROP TABLE public.payments;

CREATE TABLE public.payments
(
  id bigint NOT NULL,
  order_id bigint,
  payment_date date,
  credit_card_name character varying,
  cardholder_name character varying,
  credit_card_exp_date date,
  payment_method_id bigint,
  payment_amount double precision,
  CONSTRAINT pk_payment PRIMARY KEY (id),
  CONSTRAINT fk5 FOREIGN KEY (order_id)
      REFERENCES public.orders (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION,
  CONSTRAINT fk6 FOREIGN KEY (payment_method_id)
      REFERENCES public.payment_method (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.payments
  OWNER TO postgres;

-- Index: public.fki_fk5

-- DROP INDEX public.fki_fk5;

CREATE INDEX fki_fk5
  ON public.payments
  USING btree
  (order_id);

-- Index: public.fki_fk6

-- DROP INDEX public.fki_fk6;

CREATE INDEX fki_fk6
  ON public.payments
  USING btree
  (payment_method_id);
-- Table: public.products

-- DROP TABLE public.products;

CREATE TABLE public.products
(
  id bigint NOT NULL,
  title character varying,
  price money,
  short_description character varying(1),
  full_description character varying,
  rating character varying,
  poster_url character varying,
  is_active boolean,
  added_date date,
  added_by bigint,
  product_type character varying,
  CONSTRAINT pk_products PRIMARY KEY (id),
  CONSTRAINT fk8 FOREIGN KEY (added_by)
      REFERENCES public.employees (id) MATCH SIMPLE
      ON UPDATE NO ACTION ON DELETE NO ACTION
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.products
  OWNER TO postgres;

-- Index: public.fki_fk8

-- DROP INDEX public.fki_fk8;

CREATE INDEX fki_fk8
  ON public.products
  USING btree
  (added_by);

-- Table: public.shipping_method

-- DROP TABLE public.shipping_method;

CREATE TABLE public.shipping_method
(
  id bigint NOT NULL,
  method character varying,
  CONSTRAINT pk_shipping PRIMARY KEY (id)
)
WITH (
  OIDS=FALSE
);
ALTER TABLE public.shipping_method
  OWNER TO postgres;


